from docker import client
import yaml
import os
import sys

def runContainer():
    mydocker = client.from_env()

    container = mydocker.containers.run('registry.cn-hangzhou.aliyuncs.com/edge_node/eureka:latest',
                                         detach=True,name="eureka",ports={"10000/tcp" : [10000]} ,network_mode="zhuanyong")
    #container = mydocker.containers.run('zuul:latest',
    #                                   detach=True, name="zuul", network_mode="host")
    container_list = mydocker.containers.list();
    container = mydocker.containers.get("eureka")
    if container in container_list:
        if container.status == "running":
            print("create success")
            print(container.name+" "+container.id+" "+container.short_id+" "+container.status)
    else:
        print("create failure")

def main(argv):
    runContainer()

if __name__ == "__main__":
    main(sys.argv)